The first isomorphism theorem is one of the classical results in universal algebra.
While this statement is usually about algebra structures in sets \cite{lynge2019}, we look at a generalization to the 1-truncated case.
More specifically, we formulate and prove this theorem for algebras of the signatures defined in Definition \ref{def:signature}.

Before we can do prove the isomorphism theorem, we need to generalize several notions from universal algebra to the 1-truncated case.
First of all, we need to define the image of homomorphisms of algebras.
We take the same approach as in Section \ref{sec:finite_limits}, meaning that we define the image using displayed algebras.
Second of all, we need to define congruence relations and their quotients.
The main idea here is to use Construction \ref{constr:alg_biadj}.
Here we lifted the groupoid quotient to a biadjunction from $\algG{\sign}$ to $\algebra{\sign}$.
This result also indicates how congruence relations will be defined.
Basically, a congruence relation on $X : \algebra{\sign}$ is a groupoid structure on $X$ which gives an algebra of groupoids.
Once these notions are in place, we can formulate and prove the first isomorphism theorem similarly to the set-theoretical version.

\subsection{The Image}

\begin{definition}
Let $A$ and $B$ be algebras in 1-types for a signature $\sign$ and let
$f : A \onecell B$ be an algebra morphism. The \emph{image} of $f$ is
the total algebra of the following displayed algebra $Y$ over $B$:
\begin{itemize}
\item The underlying family of 1-types over $B$ is $Y(x) \eqdef \exists a : A.\ f(a) = x$.
\item For each $x : \polyAct{\pointconstr}{A}$, we are required to construct
a map $\DispAlgPoint{Y} : \polyDact{\pointconstr}{Y}(x) \rightarrow
\exists a : A.\ f(a) = \AlgPoint{B}(x)$. Assume given $\pover{x}
: \polyDact{\pointconstr}{Y}(x)$. By induction on the polynomial
$\pointconstr$, it is possible to derive from $\pover{x}$ an
inhabitant of $\exists y
: \polyAct{\pointconstr}{A}.\ \polyAct{\pointconstr}{f}(y) = x$. By
invoking the elimination principle of propositional truncation, in
order to define the map $\DispAlgPoint{Y}$ it is sufficient to
construct a map $f : \Sum {y
: \polyAct{\pointconstr}{A}}.\ \polyAct{\pointconstr}{f}(y) =
x \rightarrow \Sum {a : A}.\ f(a) = \AlgPoint{B}(x)$.  So assume given
$y : \polyAct{\pointconstr}{A}$ and a path $p
: \polyAct{\pointconstr}{f}(y) = x$. Take $f(y,p)$ to be the pair
consisting of $\AlgPoint{A}(y)$ and the path:
\[
f(\AlgPoint{A}(y))
\stackrel{\AlgMapPoint{f}(y)}{=}
\AlgPoint{B}(\polyAct{\pointconstr}{f}(y))
\stackrel{\ap {\AlgPoint{B}} p}{=}
\AlgPoint{B}(x)
\]
\item Since $Y(x)$ is a proposition for all $x : B$, the construction of
paths $\DispAlgPath{Y}{j}$ and globes $\DispAlgHomot{Y}{j}$ is
straightforward.
\end{itemize}

\end{definition}



\subsection{Congruence Relations}

\begin{definition}
Path congruence relation (only gives a path algebra)
\end{definition}

\begin{problem}
\label{prob:path_congruence_relation_to_grpd}
Path congruence relation gives a path algebra in groupoids
\end{problem}

\begin{construction}{prob:path_congruence_relation_to_grpd}

\end{construction}

\begin{definition}
Congruence relation
\end{definition}

\begin{problem}
\label{prob:congruence_relation_to_grpd}
Path congruence relation gives a path algebra in groupoids
\end{problem}

Now we look at the mapping property

\begin{problem}
\label{prob:mapping_property_congruence}

\end{problem}

\begin{construction}{prob:mapping_property_congruence}
\label{constr:mapping_property_congruence}

\end{construction}

\subsection{The First Isomorphism Theorem}
Now let us prove a generalization of the first isomorphism theorem to the 1-truncated case.
Note that our proof follows the same steps as the proof of the first isomorphism theorem for sets.
Let us start by characterizing adjoint equivalences in $\algM(\sign)$.

\begin{proposition}
\label{prop:algebra_adjequiv}
Suppose we have a signature $\sign$, algebras $X, Y : \algM(\sign)$, and a homomorphism $f : X \onecell Y$.
Then $f$ is an adjoint equivalence in $\algM(\sign)$ if its carrier is an adjoint equivalence in $\onetypes$.
\end{proposition}

\begin{theorem}
Let $\sign$ be a signature.
Suppose, we have algebras $X, Y : \algM(\sign)$ and a homomorphism $f : X \onecell Y$.
Then we have a congruence relation $R$ on $X$ with an equivalence ... 
\end{theorem}

\begin{proof}
The proof is done in three steps.
First, we define the congruence relation $R$ on $X$ by setting $R(x, y) := f(x) = f(y)$.
Second, we factor the map ... from $X$ to the image as a map ... from ... (quotient) to ... (image) using Construction \ref{constr:mapping_property_congruence}.
Lastly, we show that the acquired map is an equivalence using Proposition \ref{prop:algebra_adjequiv}.
This is done by showing that the fiber are contractible.
Showing that the fibers are inhabited and propositional is similarly to proving the surjectivity and injectivity for the set-theoretical first isomorphism theorem \cite{lynge2019}.
\end{proof}
