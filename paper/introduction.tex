The Martin-LÃ¶f identity type, also known as \emph{propositional equality}, represents provable equality in type theory \cite{martin1975intuitionistic}.
This type is defined polymorphically over all types and has a single introduction rule representing reflexivity.
The eliminator, often called the J-rule or path induction, is used to prove symmetry and transitivity.
Note that in particular, we can talk about the identity type of an already established identity type.
This can be iterated to obtain an infinite tower of types, which has the structure of an $\infty$-groupoid \cite{van2011types,lumsdaine2009weak}.

The J-rule is also the starting point of \emph{homotopy type theory} \cite{hottbook}.
In that setting, types are seen as spaces, terms are seen as points, proofs of identity of terms are seen as paths,
and proofs of identity between identities are seen as homotopies.
In mathematical terms, type theory can be interpreted in many Quillen model categories \cite{awodey2009homotopy,LumsdaineW15}, as for example simplicial sets \cite{simpset}.
In the simplicial model, not every two inhabitants of the identity type are equal,
which is also the case in the groupoid model \cite{HofmannS94,MR1686862} and the cubical sets model \cite{BezemCH13}.

If we assume enough axioms, then we can construct types for which we can prove that not every two inhabitants of the identity type are equal.
One example is the universe if one assumes the univalence axiom \cite{hottbook}.
Other examples can be obtained by using \emph{higher inductive types} (HITs).

Higher inductive types generalize inductive types by allowing constructors for paths, paths between paths, and so on.
While inductive types are specified by giving the arities of the operations \cite{dybjer1994inductive},
for higher inductive types one must also specify the arities of the paths, paths between paths, and so on.
The resulting higher inductive type is freely generated by the provided constructors.
To make this concrete, let us look at some examples \cite{hottbook}:

\begin{center}
\begin{lstlisting}[mathescape=true]
Inductive $\circleS$ :=
| $\baseS$ : $\circleS$
| $\SLoop$ : $\baseS = \baseS$
\end{lstlisting}

\begin{lstlisting}[mathescape=true]
Inductive $\torus$ :=
| $\base$ : $\torus$
| $\leftLoop, \rightLoop$ : $\base = \base$
| $\surface$ : $\concat{\leftLoop}{\rightLoop} = \concat{\rightLoop}{\leftLoop}$
\end{lstlisting}
\end{center}

The first one, $\circleS$, represents the circle.
It is generated by a point constructor $\baseS : \circleS$ and a path constructor $\SLoop : \baseS = \baseS$.
The second one, $\torus$, represents the torus.
This type is generated by a point constructor $\base$, two path constructors $\leftLoop$ and $\rightLoop$ of type $\base = \base$,
and a homotopy constructor $\surface : \concat{\leftLoop}{\rightLoop} = \concat{\rightLoop}{\leftLoop}$
where $p \vcomp q$ denotes the concatenation of $p$ and $q$.
Note that path and homotopy constructors depend on previously given constructors in the specification.
For both types, introduction, elimination, and computation rules can be given \cite{hottbook}.

In this paper, we study a schema of higher inductive types that allows defining types by
giving constructors for the points, paths, and homotopies.
All of these constructors can be recursive, but they can only have a finite number of recursive arguments.
Concretely, this means that every inhabitant can be constructed as a finitely branching tree.
Note that recursion is necessary to cover examples such as the set truncation, algebraic theories, and the integers.
Such HITs are called \emph{finitary}.
A similar scheme was studied by Dybjer and Moeneclaey
and they interpret HITs on this scheme in the groupoid model \cite{DBLP:journals/entcs/DybjerM18}.

Say that a type $X$ is \emph{1-truncated} if for all $x, y : X$, $p, q : x = y$, and $r, s : p = q$ we have $r = s$,
and a \emph{1-type} is a type which is 1-truncated.
In terms of the $\infty$-groupoid structure mentioned before, such types are 1-groupoids.
An example of a 1-type is $\circleS$ \cite{LicataS13}, which we mentioned before,
and another one is the classifying space of a group \cite{LicataF14}.
Groupoids are related to 1-types via the \emph{groupoid quotient} \cite{sojakovaPhD},
which takes a groupoid $G$ and returns a 1-type
whose points are objects of $G$ identified up to isomorphism.

The main goal of this paper is to show that finitary 1-truncated higher inductive types can be derived from simpler principles.
More specifically, every finitary 1-truncated HIT can be constructed in a type theory
with propositional truncations, set quotients, and groupoid quotients.
Note that the set quotient is a special instance of the groupoid quotient.
The result of this paper can be used to simplify the semantic study of finitary 1-truncated HITs.
Instead of verifying the existence of a wide class of HITs, one only needs to check the existence
of propositional truncations and groupoid quotients.


Moreover, we employ our framework for HITs for the development of
2-dimensional universal algebra. Each HIT discussed in the paper comes
with a notion of algebra: a 1-type (or a groupoid) which is closed
under the introduction rules of the HIT.  Algebras for a HIT form a
bicategory. We prove that this bicategory has PIE limits. Moreover,
all its morphisms admit a factorization analogous to the one given by the
first isomorphism theorem. Our framework also allows the construction
of the free algebra for a signature, generalizing the notion of term
algebra in (1-dimensional) universal algebra. Notice that the bicategory of algebras (and also all the other concrete bicategories we consider in this paper) is a (2,1)-category, so the notion of PIE limit in this case coincides with that of homotopy limit \cite{AvigadKL15}.

Lastly, we show how to exploit our construction of HITs via the
groupoid quotient to calculate the fundamental group of some HITs.

The contributions of this paper are summarized as follows
\begin{itemize}
	\item An internal definition of signatures for HITs which allow path and homotopy constructors (Definition \ref{def:signature});
	\item Bicategories of algebras in both 1-types and groupoids (Definition \ref{def:bicat_grpd});
	\item A proof that biinitial algebras in 1-types satisfy the induction principle (Proposition \ref{thm:initial_alg_sem});
	\item A biadjunction between the bicategories of algebras in 1-types and algebras in groupoids (Construction \ref{constr:alg_biadj});
	\item A construction of 1-truncated HITs from the groupoid quotient (Construction \ref{constr:hit_exist}),
	which shows that such HITs exist.
	This is the main contribution of this paper;
        \item PIE limits in the bicategories of algebras in 1-types (Section \ref{sec:finite_limits});
        \item The definition of the free algebra for a signature as a HIT (Definition \ref{def:free_alg});
        %The free algebra construction underlies a coherent biadjunction between the bicategory of algebras and the bicategory of 1-types;
        \item A proof of the first isomorphism theorem for 1-types (Theorem \ref{thm:iso_thm});
        \item An alternative approach for calculating the fundamental groups of some HITs (Section~\ref{sec:fundamental_groups}).
\end{itemize}
\emph{\textbf{Related Work.}}
Various schemes of higher inductive types have been defined and studied.
Awodey \etal \ studied inductive types in homotopy type theory and prove initial
algebra semantics \cite{AwodeyGS12}.
Sojakova extended their result to various higher inductive types, among which
are the groupoid quotient, W-suspensions, and the torus \cite{Sojakova15,sojakovaPhD}.
For these types, Sojakova proves that homotopy initiality is equivalent to the induction principle while we only show that the induction principle follows from homotopy initiality.
Note that we consider a general types that have higher path constructors but are truncated.
On the other hand, Sojakova looks at arbitrary types which are not necessarily 1-truncated, but she does not consider a general class of HITs with higher path constructor.
In particular, homotopy initiality for the groupoid quotient was proven \cite[Theorem 196]{sojakovaPhD} while we prove
Basold \etal \ \cite{BasoldGW17} defined a scheme for HITs allowing for both point and path constructors,
but no higher constructors, and a similar scheme is given by
Moeneclaey \cite{moeneclaey2016schema}. 
Dybjer and Moeneclaey extended this scheme by allowing homotopy constructors and
they give semantics in the groupoid model \cite{DBLP:journals/entcs/DybjerM18}.
In the framework of computational higher-dimensional type theory \cite{AngiuliHW17},
Cavallo and Harper defined indexed cubical inductive types and prove canonicity \cite{CavalloH19}.
Altenkirch \etal \ defined quotient inductive-inductive types, which combine the features
of quotient types with inductive-inductive types \cite{forsberg2010inductive,AltenkirchCDKF18}.
Kov\'acs and Kaposi extended this syntax to higher inductive-inductive types \cite{KaposiK18},
which can be used to define not necessarily set-truncated types.
The scheme studied in this paper, is most similar to the one by Dybjer and Moeneclaey \cite{DBLP:journals/entcs/DybjerM18}
with the restriction that each type has a constructor indicating that the type is 1-truncated.
In particular, this means that inductive-inductive types are not considered.
Note that the HITs we study only have the right elimination property with respect to 1-types,
unlike W-suspensions \cite{Sojakova15,sojakovaPhD}.

Higher inductive types have already been used for numerous applications.
One of them is synthetic homotopy theory.
Spaces, such as the real projective spaces, higher spheres, and Eilenberg-MacLane spaces,
can be defined as higher inductive types \cite{licata2013pi,LicataF14,DBLP:conf/lics/BuchholtzR17,hottbook}.
The resulting definitions are strong enough to determine homotopy groups
\cite{licata2013pi,LicataS13}.
In addition, algebraic theories can be modeled as HITs, which allows one
to define finite sets as a higher inductive type \cite{frumin2018finite}.
Other applications of HITs include homotopical patch theory, which provides a way
to model version control systems \cite{AngiuliMLH16}, and modeling data types
such as the integers \cite{BasoldGW17,altenkirchscoccola}.
Besides, quotient inductive-inductive types can be used to define the partiality monad \cite{AltenkirchDK17}.
These types can also be used to define type theory within type theory \cite{AltenkirchK16}
and to prove its normalization \cite{DBLP:journals/lmcs/AltenkirchK17}.
Since the HITs in this paper are 1-truncated, they are able to express term algebras of finitary algebraic theories.
For examples such as real projective spaces and higher spheres, we can only define their 1-truncation.

Several classes of higher inductive types have already been reduced to simpler ones.
Both Van Doorn and Kraus constructed propositional truncations from non-recursive higher inductive types
\cite{Doorn16,Kraus16}.
Van Doorn, Von Raumer, and Buchholtz showed that the groupoid quotient can be constructed using pushouts \cite{DoornRB17}.
By combining their result with ours, we get that all finitary 1-truncated higher inductive types can be constructed from pushouts.
Using the join construction, Rijke constructed several examples of HITs, namely $n$-truncations, the Rezk completion,
and set quotients \cite{rijke2017join}.
Awodey \etal \ gave an impredicative construction of finitary inductive types and some HITs \cite{awodey2018impredicative}. 
Constructions of more general classes of HITs have also been given.
Assuming UIP, Kaposi \etal \ constructed all finitary quotient inductive-inductive types
from a single one \cite{KaposiKA19}, and without UIP, Van der Weide and Geuvers
constructed all finitary set truncated HITs from quotients \cite{van2019construction}.
Note that these two works only concern set truncated HITs while our work concerns 1-truncated HITs.
Furthermore, the HITs considered by Van der Weide and Geuvers are a special case of
the HITs in this paper.

An alternative way to verify the existence of higher inductive types,
is by constructing them directly in a model.
Coquand \etal \ interpreted several HITs in the cubical sets model \cite{BezemCH13,CoquandHM18}.
Note that one can constructively prove univalence in the cubical sets model \cite{CohenCHM16}
and that cubical type theory satisfies homotopy canonicity \cite{DBLP:conf/rta/CoquandHS19}.
Furthermore, cubical type theory has been implemented in Agda with support for higher inductive types \cite{vezzosi2019cubical}.
Lumsdaine and Shulman give a semantical scheme for HITs and show that these can be interpreted
in sufficiently nice model categories \cite{lumsdaine2017semantics}.

Lastly, there are other approaches to 2-dimensional universal algebra.
Blackwell \etal \ study 2-dimensional universal algebra in a syntax-less fashion: they define 2-categories of algebras of a given 2-monad \cite{blackwell1989two}.
Their main result says that these 2-categories support limits and colimits.
On the contrast, our approach is based on a concrete notion of signature, which represents the syntax.
Note that by Corollary \ref{cor:pseudomonadofsig}, each signature gives rise to a pseudomonad and as such, the work by Blackwell \etal \ considers a more general version of 2-dimensional universal algebra.
\\
\emph{\textbf{Formalization.}}
All results in this paper are formalized in Coq \cite{Coq:manual} using UniMath \cite{UniMath}.
The formalization uses the version with \texttt{git} hash \href{https://github.com/UniMath/UniMath/tree/2dadfb61f5ef0d9805cf0eb6b80ef2beb26472d5}{2dadfb61} and can be found here:
\begin{center}
\url{https://github.com/nmvdw/GrpdHITs/tree/extended}
\end{center}
\emph{\textbf{Overview.}}
We start by recalling the groupoid quotient and displayed bicategories in Section \ref{sec:prelims}.
Displayed bicategories are our main tool to construct the bicategory of algebras for a signature.
In Section \ref{sec:signs}, we define signatures and show that each signature gives rise to a bicategory of algebras in both 1-types and groupoids.
The notion of a higher inductive type on a signature is given in Section \ref{sec:induction}.
There, we also prove initial algebra semantics, which says that biinitiality is a sufficient condition for being a HIT.
To construct the desired higher inductive type, we use the groupoid quotient, and in Section \ref{sec:biadj} we lift this to a biadjunction on the level of algebras.
As a consequence, constructing the initial algebra of a signature in groupoids is sufficient to construct the desired higher inductive type.
In Section \ref{sec:existence}, we construct the desired initial algebra and we conclude that each signature has an associated higher inductive type. 
Next we discuss more examples of HITs in Section \ref{sec:examples} and there we also show how to obtain monoidal objects and coherent 2-groups as algebras for certain signatures.
After that we study 2-dimensional universal algebra with our signatures.
More specifically, we construct PIE limits of algebras in Section \ref{sec:finite_limits}, the free algebra for a signature in Section \ref{sec:free_algebra}, and we prove the first isomorphism theorem in Section \ref{sec:isomorphism_theorem}.
The final topic we discuss, is the calculation of fundamental groups.
In Section \ref{sec:fundamental_groups}, we use the way we constructed higher inductive types to determine the fundamental group of the circle, the torus, and the group quotient.
Lastly, we conclude in Section \ref{sec:conclusion}.
\\
\emph{\textbf{Publication History.}}
This paper is an extended version of \cite{nmvdw2020} by the second author.
In Section \ref{sec:signs}, we changed Definition \ref{def:homotep} and in Section \ref{sec:induction}, we added Construction \ref{constr:total_alg}.
Sections \ref{sec:examples} to \ref{sec:fundamental_groups} are new.
\\
\emph{\textbf{Notation.}}
In this paper, we work in dependent type theory and we assume the univalence axiom. In particular, this means that we also have function extensionality.
Let us recall some notation from HoTT which we use throughout this paper.
The identity path is denoted by $\refl{x}$, the concatenation of paths $p : x = y$ and $q : y = z$ is denoted by $p \vcomp q$, and the inverse of a path $p : x = y$ is denoted by $\inverse{p} : y = x$.
Given a type $X$ with points $x, y : X$ and paths $p, q : x = y$, we call a path $s : p = q$ a \emph{2-path}.
A \emph{proposition} is a type of which all inhabitants are equal.
A \emph{set} is a type $X$ such that for all $x, y : X$ the type $x = y$ is a proposition.
\remove{A \emph{1-type} is a type $X$ such that for all $x, y : X$ the type $x = y$ is a set.}
A \emph{homotopy} between $f, g : X \rightarrow Y$ consists of a path
$f(x) = g(x)$ for each $x : A$. By assuming function
extensionality, we have access to a map $\funextsec$ sending a
homotopy between functions $f$ and $g$ to a path $f = g$. Given a
type $A$, we write $\PT{A}$ for its \emph{propositional truncation}
and $\PC : A \to \PT{A}$ for the point constructor. We define the existential quantification
$\exists a : A.B(a)$ as $\PT{\Sum {a : A}. B(a)}$.
